import { NextResponse } from "next/server"; import { prisma } from "@/app/lib/prisma"; export async function GET(){const holidays=await prisma.holiday.findMany({orderBy:{date:"asc"}}); return NextResponse.json(holidays);} export async function POST(request:Request){const body=await request.json() as {date:string;reason?:string}; if(!body.date) return NextResponse.json({error:"date required"},{status:400}); const h=await prisma.holiday.create({data:{date:body.date,reason:body.reason}}); return NextResponse.json(h,{status:201});} export async function DELETE(request:Request){const {searchParams}=new URL(request.url); const id=searchParams.get("id"); if(!id) return NextResponse.json({error:"id required"},{status:400}); await prisma.holiday.delete({where:{id}}); return NextResponse.json({ok:true});}