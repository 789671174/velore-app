import nodemailer from "nodemailer"; export async function sendMail(opts:{to:string;subject:string;html:string;}){const host=process.env.SMTP_HOST;const user=process.env.SMTP_USER;const pass=process.env.SMTP_PASS;const port=Number(process.env.SMTP_PORT||587);const from=process.env.MAIL_FROM||"no-reply@velora.local"; if(!host||!user||!pass){console.warn("[mailer] SMTP not configured â€” email skipped");return{skipped:true};} const transporter=nodemailer.createTransport({host,port,secure:false,auth:{user,pass}}); const info=await transporter.sendMail({from,to:opts.to,subject:opts.subject,html:opts.html}); return{messageId:info.messageId};}